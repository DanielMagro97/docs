(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{222:function(e,t,n){"use strict";n.r(t);var o=n(0),s=Object(o.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"wiping-node-state"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#wiping-node-state"}},[e._v("#")]),e._v(" Wiping Node State")]),e._v(" "),n("p",[e._v("In some cases you might want (or need) to do a full redeploy with clean state\nbefore deploying a new version of the network. This should never actually be\nused during a Mainnet unless there is some serious corruption, but your node\nwill have to spend time catching up to the rest of the network.")]),e._v(" "),n("p",[e._v("The following instructions assume that your "),n("code",[e._v("datadir")]),e._v(" is defined as\n"),n("code",[e._v("/serverdir/node")]),e._v(" in your node's config.")]),e._v(" "),n("h2",{attrs:{id:"state-wipe-and-keep-node-identity"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#state-wipe-and-keep-node-identity"}},[e._v("#")]),e._v(" State Wipe and Keep Node Identity")]),e._v(" "),n("ol",[n("li",[n("p",[e._v("Stop the "),n("code",[e._v("oasis-node")]),e._v(" server process (this will depend on your own deployment\nsetup)")])]),e._v(" "),n("li",[n("p",[e._v("Remove blockchain state")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[e._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("rm")]),e._v(" -rf /serverdir/node/tendermint\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("rm")]),e._v(" -rf /serverdir/node/bleve-tag-index.bleve.db\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("rm")]),e._v(" /serverdir/node/abci-mux-state.bolt.db\n")])])])]),e._v(" "),n("li",[n("p",[e._v("Restart the oasis-node server process")])])]),e._v(" "),n("h2",{attrs:{id:"full-state-wipe"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#full-state-wipe"}},[e._v("#")]),e._v(" Full State Wipe")]),e._v(" "),n("p",[e._v("A full state wipe will also mean that you'll need to generate a new node\nidentity (or copy the old one). This is likely not what you want.")]),e._v(" "),n("ol",[n("li",[e._v("Stop the "),n("code",[e._v("oasis-node")]),e._v(" server process (this will depend on your own deployment\nsetup)")]),e._v(" "),n("li",[e._v("Remove the the "),n("code",[e._v("/serverdir/node")]),e._v(" directory.")]),e._v(" "),n("li",[e._v("Redeploy your node. You'll need to copy your Node artifacts or create brand\nnew ones.")])])])}),[],!1,null,null,null);t.default=s.exports}}]);